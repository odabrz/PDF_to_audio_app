{% extends "base.html" %}

{% block content %}
<div class="converter-container">
    <div class="upload-box">
        <h2><i class="fas fa-upload"></i> Upload PDF</h2>
        <form id="upload-form" method="POST" action="{{ url_for('upload_file') }}" enctype="multipart/form-data">
            <div class="file-upload-wrapper">
                <input type="file" id="file-input" name="file" accept=".pdf" required>
                <label for="file-input" class="file-upload-label">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span id="file-name">Choose a PDF file</span>
                </label>
            </div>
            <button type="submit" class="convert-btn">
                <i class="fas fa-exchange-alt"></i> Convert to Audio
            </button>
        </form>
    </div>

    {% if audio_file %}
    <div class="result-box">
        <h3><i class="fas fa-check-circle"></i> Conversion Complete!</h3>
        <div class="file-info">
            <p><strong>Original File:</strong> {{ original_file }}</p>
            <p><strong>Audio File:</strong> {{ audio_file }}</p>
        </div>
        
        <div class="audio-player">
            <audio controls id="audio-preview">
                <source src="{{ url_for('play_audio', filename=audio_file) }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
        
        <div class="action-buttons">
            <a href="{{ url_for('play_audio', filename=audio_file) }}" class="btn play-btn" target="_blank">
                <i class="fas fa-play"></i> Play Audio
            </a>
            <a href="{{ url_for('download_file', filename=audio_file) }}" class="btn download-btn">
                <i class="fas fa-download"></i> Download Audio
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}